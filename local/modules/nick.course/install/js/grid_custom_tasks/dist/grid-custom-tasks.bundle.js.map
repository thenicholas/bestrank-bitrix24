{"version":3,"file":"grid-custom-tasks.bundle.js","sources":["../src/grid-custom-tasks.js","../src/index.js"],"sourcesContent":["export class GridCustomTasks {\n\n    constructor() {\n\n    }\n\n    gridUpdateHandler(gridInstance) {\n        const gridRows = gridInstance.getRows();\n        const userFields = BX.NickCourse.GridCustomTasks.data\n        console.log(BX.NickCourse.GridCustomTasks.data);\n    }\n    gridReplacer(grid) {\n        const userFields = BX.NickCourse.GridCustomTasks.data\n        console.log(userFields);\n        const gridRows = grid.getRows(),\n            headerCells = gridRows.getHeadFirstChild().getCells(),\n            bodyRows = gridRows.getBodyChild();\n\n        for (let i = 0; i < headerCells.length; i++) {\n            const headerCell = headerCells[i];\n            if (userFields.hasOwnProperty(headerCell.dataset.name)) {\n                userFields[headerCell.dataset.name]['index'] = i;\n            }\n        }\n        for (let i = 0; i < bodyRows.length; i++) {\n            const bodyRow = bodyRows[i];\n\n            for (let userCode in userFields) {\n                const cell = bodyRow.getCellByIndex(userFields[userCode]['index']);\n                if (!cell)\n                    continue;\n                if (userFields[userCode]['items'].hasOwnProperty(bodyRow.getContent(cell))) {\n                    bodyRow.getContentContainer(cell).innerHTML = userFields[userCode]['items'][bodyRow.getContent(cell)];\n                }\n\n            }\n        }\n    }\n}\n","import {GridCustomTasks} from './grid-custom-tasks';\nimport {EventEmitter} from 'main.core.events';\n\nconst gridCustom = new GridCustomTasks();\n\nBX.ready(function() {\n    EventEmitter.subscribe('grid::ready', function(event) {\n        const grid = event.getData()[0];\n        if (grid instanceof BX.Main.grid) {\n            gridCustom.gridReplacer(grid);\n        }\n    });\n\n    EventEmitter.subscribe('grid::updated', function(event) {\n        const grid = event.getData()[0];\n        if (grid instanceof BX.Main.grid) {\n            gridCustom.gridReplacer(grid);\n        }\n    });\n});\n"],"names":["GridCustomTasks","gridInstance","gridRows","getRows","userFields","BX","NickCourse","data","console","log","grid","headerCells","getHeadFirstChild","getCells","bodyRows","getBodyChild","i","length","headerCell","hasOwnProperty","dataset","name","bodyRow","userCode","cell","getCellByIndex","getContent","getContentContainer","innerHTML","gridCustom","ready","EventEmitter","subscribe","event","getData","Main","gridReplacer"],"mappings":";;;;;;QAAaA,eAAe;MAExB,2BAAc;QAAA;;MAEb;QAAA;QAAA,kCAEiBC,YAAY,EAAE;UAC5B,IAAMC,QAAQ,GAAGD,YAAY,CAACE,OAAO,EAAE;UACvC,IAAMC,UAAU,GAAGC,EAAE,CAACC,UAAU,CAACN,eAAe,CAACO,IAAI;UACrDC,OAAO,CAACC,GAAG,CAACJ,EAAE,CAACC,UAAU,CAACN,eAAe,CAACO,IAAI,CAAC;;;QAClD;QAAA,6BACYG,IAAI,EAAE;UACf,IAAMN,UAAU,GAAGC,EAAE,CAACC,UAAU,CAACN,eAAe,CAACO,IAAI;UACrDC,OAAO,CAACC,GAAG,CAACL,UAAU,CAAC;UACvB,IAAMF,QAAQ,GAAGQ,IAAI,CAACP,OAAO,EAAE;YAC3BQ,WAAW,GAAGT,QAAQ,CAACU,iBAAiB,EAAE,CAACC,QAAQ,EAAE;YACrDC,QAAQ,GAAGZ,QAAQ,CAACa,YAAY,EAAE;UAEtC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,WAAW,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;YACzC,IAAME,UAAU,GAAGP,WAAW,CAACK,CAAC,CAAC;YACjC,IAAIZ,UAAU,CAACe,cAAc,CAACD,UAAU,CAACE,OAAO,CAACC,IAAI,CAAC,EAAE;cACpDjB,UAAU,CAACc,UAAU,CAACE,OAAO,CAACC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAGL,CAAC;;;UAGxD,KAAK,IAAIA,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,EAAC,EAAE,EAAE;YACtC,IAAMM,OAAO,GAAGR,QAAQ,CAACE,EAAC,CAAC;YAE3B,KAAK,IAAIO,QAAQ,IAAInB,UAAU,EAAE;cAC7B,IAAMoB,IAAI,GAAGF,OAAO,CAACG,cAAc,CAACrB,UAAU,CAACmB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;cAClE,IAAI,CAACC,IAAI,EACL;cACJ,IAAIpB,UAAU,CAACmB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAACJ,cAAc,CAACG,OAAO,CAACI,UAAU,CAACF,IAAI,CAAC,CAAC,EAAE;gBACxEF,OAAO,CAACK,mBAAmB,CAACH,IAAI,CAAC,CAACI,SAAS,GAAGxB,UAAU,CAACmB,QAAQ,CAAC,CAAC,OAAO,CAAC,CAACD,OAAO,CAACI,UAAU,CAACF,IAAI,CAAC,CAAC;;;;;;MAKpH;IAAA;;IClCL,IAAMK,UAAU,GAAG,IAAI7B,eAAe,EAAE;IAExCK,EAAE,CAACyB,KAAK,CAAC,YAAW;MAChBC,6BAAY,CAACC,SAAS,CAAC,aAAa,EAAE,UAASC,KAAK,EAAE;QAClD,IAAMvB,IAAI,GAAGuB,KAAK,CAACC,OAAO,EAAE,CAAC,CAAC,CAAC;QAC/B,IAAIxB,IAAI,YAAYL,EAAE,CAAC8B,IAAI,CAACzB,IAAI,EAAE;UAC9BmB,UAAU,CAACO,YAAY,CAAC1B,IAAI,CAAC;;OAEpC,CAAC;MAEFqB,6BAAY,CAACC,SAAS,CAAC,eAAe,EAAE,UAASC,KAAK,EAAE;QACpD,IAAMvB,IAAI,GAAGuB,KAAK,CAACC,OAAO,EAAE,CAAC,CAAC,CAAC;QAC/B,IAAIxB,IAAI,YAAYL,EAAE,CAAC8B,IAAI,CAACzB,IAAI,EAAE;UAC9BmB,UAAU,CAACO,YAAY,CAAC1B,IAAI,CAAC;;OAEpC,CAAC;IACN,CAAC,CAAC;;;;"}