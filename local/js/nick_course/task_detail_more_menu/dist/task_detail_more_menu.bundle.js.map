{"version":3,"file":"task_detail_more_menu.bundle.js","sources":["../src/task_detail_more_menu.js"],"sourcesContent":["import {Type} from 'main.core';\n\nexport class TaskDetailMoreMenu\n{\n\tconstructor(options = {name: 'TaskDetailMoreMenu'})\n\t{\n\t\tthis.name = options.name;\n\t}\n\n\tsetName(name)\n\t{\n\t\tif (Type.isString(name))\n\t\t{\n\t\t\tthis.name = name;\n\t\t}\n\t}\n\n\tgetName()\n\t{\n\t\treturn this.name;\n\t}\n}\n\n// Создаем экземпляр при загрузке экстеншена\nconst menu = new TaskDetailMoreMenu();\nconsole.log('Extension loaded, menu created:', menu);\n\nBX.ready(function () {\n\tBX.Event.EventEmitter.subscribe('bx.main.popup:onFirstShow', function(event) {\n\t\tconst popup = event.target;\n\n\t\tif (popup.uniquePopupId === 'menu-popup-task-view-b') {\n\t\t\tlet menuItems = popup.contentContainer.querySelector('.menu-popup-items');\n\n\t\t\tlet newItem = BX.create('span', {\n\t\t\t\tattrs: {\n\t\t\t\t\ttitle: 'Моя подсказка',\n\t\t\t\t\tclassName: 'menu-popup-item menu-popup-item-create',\n\t\t\t\t},\n\t\t\t\tchildren: [\n\t\t\t\t\tBX.create('span', {\n\t\t\t\t\t\tattrs: {className: 'menu-popup-item-icon'}\n\t\t\t\t\t}),\n\t\t\t\t\tBX.create('span', {\n\t\t\t\t\t\tattrs: {className: 'menu-popup-item-text'},\n\t\t\t\t\t\ttext: 'Мой пункт меню',\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tclick: () => {\n\t\t\t\t\t\t\t\talert('click');\n\t\t\t\t\t\t\t\tpopup.close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t]\n\t\t\t});\n\t\t\tBX.append(newItem, menuItems);\n\t\t}\n\t});\n});\n\n"],"names":["TaskDetailMoreMenu","options","name","Type","isString","menu","console","log","BX","ready","Event","EventEmitter","subscribe","event","popup","target","uniquePopupId","menuItems","contentContainer","querySelector","newItem","create","attrs","title","className","children","text","events","click","alert","close","append"],"mappings":";;;;;;KAEaA,kBAAkB;GAE9B,8BACA;KAAA,IADYC,OAAO,uEAAG;OAACC,IAAI,EAAE;MAAqB;KAAA;KAEjD,IAAI,CAACA,IAAI,GAAGD,OAAO,CAACC,IAAI;;GACxB;KAAA;KAAA,wBAEOA,IAAI,EACZ;OACC,IAAIC,cAAI,CAACC,QAAQ,CAACF,IAAI,CAAC,EACvB;SACC,IAAI,CAACA,IAAI,GAAGA,IAAI;;;;KAEjB;KAAA,0BAGD;OACC,OAAO,IAAI,CAACA,IAAI;;;GAChB;CAAA;;CAGF;CACA,IAAMG,IAAI,GAAG,IAAIL,kBAAkB,EAAE;CACrCM,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAEF,IAAI,CAAC;CAEpDG,EAAE,CAACC,KAAK,CAAC,YAAY;GACpBD,EAAE,CAACE,KAAK,CAACC,YAAY,CAACC,SAAS,CAAC,2BAA2B,EAAE,UAASC,KAAK,EAAE;KAC5E,IAAMC,KAAK,GAAGD,KAAK,CAACE,MAAM;KAE1B,IAAID,KAAK,CAACE,aAAa,KAAK,wBAAwB,EAAE;OACrD,IAAIC,SAAS,GAAGH,KAAK,CAACI,gBAAgB,CAACC,aAAa,CAAC,mBAAmB,CAAC;OAEzE,IAAIC,OAAO,GAAGZ,EAAE,CAACa,MAAM,CAAC,MAAM,EAAE;SAC/BC,KAAK,EAAE;WACNC,KAAK,EAAE,eAAe;WACtBC,SAAS,EAAE;UACX;SACDC,QAAQ,EAAE,CACTjB,EAAE,CAACa,MAAM,CAAC,MAAM,EAAE;WACjBC,KAAK,EAAE;aAACE,SAAS,EAAE;;UACnB,CAAC,EACFhB,EAAE,CAACa,MAAM,CAAC,MAAM,EAAE;WACjBC,KAAK,EAAE;aAACE,SAAS,EAAE;YAAuB;WAC1CE,IAAI,EAAE,gBAAgB;WACtBC,MAAM,EAAE;aACPC,KAAK,EAAE,iBAAM;eACZC,KAAK,CAAC,OAAO,CAAC;eACdf,KAAK,CAACgB,KAAK,EAAE;;;UAGf,CAAC;QAEH,CAAC;OACFtB,EAAE,CAACuB,MAAM,CAACX,OAAO,EAAEH,SAAS,CAAC;;IAE9B,CAAC;CACH,CAAC,CAAC;;;;;;;;"}